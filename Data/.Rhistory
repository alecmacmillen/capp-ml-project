fraud_probit <- predict(q5_c)
summary(fraud_probit)
#info_c <- tidy(q5_c)
#COEFFS_P <- COEFFS <- c(info_c$estimate[1], info_c$estimate[2], info_c$estimate[3], info_c$estimate[4], info_c$estimate[5], info_c$estimate[6])
#afghan$fraud_probit = COEFFS_P[1] + COEFFS_P[2]*afghan$election_viol + COEFFS_P[3]*afghan$election_viol2 + COEFFS_P[4]*afghan$num_closed_polls + COEFFS_P[5]*afghan$dist2kabul + COEFFS_P[6]*afghan$elevation
#summary(afghan$fraud_probit)
q5_c <- glm(
fraud ~ election_viol + election_viol2 + num_closed_polls + dist2kabul + elevation,
family = binomial(link="probit"),
data = afghan)
summary(q5_c)
fraud_probit <- predict(q5_c, type = "response")
summary(fraud_probit)
q5_c <- glm(
fraud ~ election_viol + election_viol2 + num_closed_polls + dist2kabul + elevation,
family = binomial(link="probit"),
data = afghan)
summary(q5_c)
range(predict(q5_c, type = "response"))
marginal_effects(q5_c, data = afghan, variables = num_closed_polls)
marginal_effects(q5_c, data = afghan, variables = afghan$num_closed_polls)
marginal_effects(q5_c, data = afghan, variables = c("num_closed_polls"))
colMeans(marginal_effects(q5_c, data = afghan, variables = c("num_closed_polls")))
mean(marginal_effects(q5_c, data = afghan, variables = c("num_closed_polls")))
average(marginal_effects(q5_c, data = afghan, variables = c("num_closed_polls")))
summary(marginal_effects(q5_c, data = afghan, variables = c("num_closed_polls")))
means <- data.frame(election_viol = mean(afghan$election_viol), election_viol2 = mean(afghan$election_viol2), dist2kabul = mean(afghan$dist2kabul), elevation = mean(afghan$elevation))
means <- data.frame(election_viol = mean(afghan$election_viol), election_viol2 = mean(afghan$election_viol2), dist2kabul = mean(afghan$dist2kabul), elevation = mean(afghan$elevation))
margins(q5_c, data = afghan, at = means)
?margins
means <- data.frame(election_viol = mean(afghan$election_viol), election_viol2 = mean(afghan$election_viol2), dist2kabul = mean(afghan$dist2kabul), elevation = mean(afghan$elevation))
margins(q5_c, data = afghan, variables = c("num_closed_polls"), at = means)
means <- data.frame(election_viol = mean(afghan$election_viol), election_viol2 = mean(afghan$election_viol2), dist2kabul = mean(afghan$dist2kabul), elevation = mean(afghan$elevation))
margins(q5_c, data = afghan, at = c("num_closed_polls"), atmeans = TRUE)
means <- data.frame(election_viol = mean(afghan$election_viol), election_viol2 = mean(afghan$election_viol2), dist2kabul = mean(afghan$dist2kabul), elevation = mean(afghan$elevation))
margins(q5_c, data = afghan, at = list("num_closed_polls"), atmeans = TRUE)
means <- data.frame(election_viol = mean(afghan$election_viol), election_viol2 = mean(afghan$election_viol2), dist2kabul = mean(afghan$dist2kabul), elevation = mean(afghan$elevation))
margins(q5_c, data = afghan, at = means, atmeans = TRUE)
View(means)
means <- data.frame(election_viol = average(afghan$election_viol), election_viol2 = average(afghan$election_viol2), dist2kabul = average(afghan$dist2kabul), elevation = average(afghan$elevation))
means <- data.frame(election_viol = colMeans(afghan$election_viol), election_viol2 = colMeans(afghan$election_viol2), dist2kabul = colMeans(afghan$dist2kabul), elevation = colMeans(afghan$elevation))
average(afghan$election_viol)
mean(afghan$election_viol)
mean(afghan$election_viol, na.rm=TRUE)
means <- data.frame(election_viol = mean(afghan$election_viol, na.rm=TRUE), election_viol2 = mean(afghan$election_viol2, na.rm=TRUE), dist2kabul = mean(afghan$dist2kabul, na.rm=TRUE), elevation = mean(afghan$elevation, na.rm=TRUE))
#margins(q5_c, data = afghan, at = means, atmeans = TRUE)
View(means)
means <- data.frame(election_viol = mean(afghan$election_viol, na.rm=TRUE), election_viol2 = mean(afghan$election_viol2, na.rm=TRUE), dist2kabul = mean(afghan$dist2kabul, na.rm=TRUE), elevation = mean(afghan$elevation, na.rm=TRUE))
margins(q5_c, data = afghan, variables = c("num_closed_polls"), at = means)
means <- data.frame(election_viol = mean(afghan$election_viol, na.rm=TRUE), election_viol2 = mean(afghan$election_viol2, na.rm=TRUE), num_closed_polls = mean(afghan$num_closed_polls, na.rm=TRUE), dist2kabul = mean(afghan$dist2kabul, na.rm=TRUE), elevation = mean(afghan$elevation, na.rm=TRUE))
margins(q5_c, data = afghan, variables = c("num_closed_polls"), at = means)
knitr::opts_chunk$set(echo = TRUE)
rm(list = ls())
library(dplyr)
library(tidyverse)
library(ggplot2)
library(haven)
library(broom)
library(margins)
setwd("C:/Users/Alec/Documents/Academics/First Year/Winter Quarter/PPHA 31302 - Stats II/Problem Sets/PS4")
afghan <- read_csv("afghan_fraud.csv")
q5_a <- lm(fraud ~ election_viol + election_viol2 + num_closed_polls + dist2kabul + elevation, data = afghan)
summary(q5_a)
info <- tidy(q5_a)
COEFFS <- c(info$estimate[1], info$estimate[2], info$estimate[3], info$estimate[4], info$estimate[5], info$estimate[6])
afghan$fraud_lpm = COEFFS[1] + COEFFS[2]*afghan$election_viol + COEFFS[3]*afghan$election_viol2 + COEFFS[4]*afghan$num_closed_polls + COEFFS[5]*afghan$dist2kabul + COEFFS[6]*afghan$elevation
summary(afghan$fraud_lpm)
q5_c <- glm(
fraud ~ election_viol + election_viol2 + num_closed_polls + dist2kabul + elevation,
family = binomial(link="probit"),
data = afghan)
summary(q5_c)
range(predict(q5_c, type = "response"))
summary(marginal_effects(q5_c, data = afghan, variables = c("num_closed_polls")))
means <- data.frame(election_viol = mean(afghan$election_viol, na.rm=TRUE), election_viol2 = mean(afghan$election_viol2, na.rm=TRUE), num_closed_polls = mean(afghan$num_closed_polls, na.rm=TRUE), dist2kabul = mean(afghan$dist2kabul, na.rm=TRUE), elevation = mean(afghan$elevation, na.rm=TRUE))
margins(q5_c, data = afghan, variables = c("num_closed_polls"), at = means)
?data.frame()
df <- data.frame(wage = c(8, 10, 10, 12), after = c(0, 0, 1, 1), women = c(1, 0, 1, 0))
lm(wage ~ after + women + after*women)
lm(wage ~ after + women + after*women, data = df)
df <- data.frame(wage = c(8, 10, 10, 12, 9, 12, 12, 14), after = c(0, 0, 1, 1, 0, 0, 1, 1),
women = c(1, 0, 1, 0, 1, 0, 1, 0), minnesota = c(1, 1, 1, 1, 0, 0, 0, 0))
lm(wage ~ after + women + minnesota + after*women + after*minnesota + minnesota*women + after*women*minnesota, data = df)
view(df)
view df
View(df)
knitr::opts_chunk$set(echo = TRUE)
rm(list = ls())
library(dplyr)
library(tidyverse)
library(ggplot2)
library(haven)
library(broom)
library(margins)
setwd("C:/Users/Alec/Documents/Academics/First Year/Winter Quarter/PPHA 31302 - Stats II/Problem Sets/PS5")
israel <- read_csv("crime_israel.csv")
View(israel)
q5_d <- lm(carthefts_pc ~ post + treat + post*treat, data = israel)
summary(q5_d)
summary(israel$carthefts_pc)
summary(israel$carthefts_pc_mi1)
ggplot(data = israel) + geom_histogram(aes(x=carthefts_pc))
?geom_histogram
ggplot(data = israel) + geom_histogram(aes(x=carthefts_pc), binwidth = 0.5, bins = 20)
ggplot(data = israel) + geom_histogram(aes(x=carthefts_pc), binwidth = 1, bins = 10)
ggplot(data = israel) + geom_histogram(aes(x=carthefts_pc), binwidth = 5, bins = 10)
ggplot(data = israel) + geom_histogram(aes(x=carthefts_pc), binwidth = 1, bins = 5)
ggplot() + geom_histogram(data = israel, aes(x=carthefts_pc), binwidth = 1, bins = 5)
ggplot() + geom_histogram(data = israel, aes(x=carthefts_pc), binwidth = 1, bins = 20)
max(israel$carthefts_pc)
ggplot() + geom_histogram(data = israel, aes(x=carthefts_pc_mi1), binwidth = 1, bins = 20)
ggplot() + geom_histogram(data = israel, aes(x=carthefts_pc), binwidth = 1, bins = 20)
summary(israel$carthefts_pc)
ggplot() + geom_histogram(data = israel, aes(x=carthefts_pc), binwidth = 1, bins = 20)
summary(israel$carthefts_pc_mi1)
ggplot() + geom_histogram(data = israel, aes(x=carthefts_pc_mi1), binwidth = 1, bins = 20)
summary(israel$carthefts_pc)
ggplot() + geom_histogram(data = israel, aes(x=carthefts_pc), binwidth = 1)
summary(israel$carthefts_pc_mi1)
ggplot() + geom_histogram(data = israel, aes(x=carthefts_pc_mi1), binwidth = 1)
q5_f <- lm(carthefts_pc_mi1 ~ post + treat + post*treat, data = israel)
summary(q5_f)
summary(israel$carthefts_pc)
ggplot() + geom_histogram(data = israel, aes(x=carthefts_pc), binwidth = 1)
summary(israel$carthefts_pc_mi1)
ggplot() + geom_histogram(data = israel, aes(x=carthefts_pc_mi1), binwidth = 1)
q5_f <- lm(carthefts_pc_mi1 ~ post + treat + post*treat, data = israel)
summary(q5_f)
summary(israel$carthefts_pc)
ggplot() + geom_histogram(data = israel, aes(x=carthefts_pc), binwidth = 1)
summary(israel$carthefts_pc_mi2)
ggplot() + geom_histogram(data = israel, aes(x=carthefts_pc_mi2), binwidth = 1)
q5_g <- lm(carthefts_pc_mi2 ~ post + treat + post*treat, data = israel)
summary(q5_g)
knitr::opts_chunk$set(echo = TRUE)
rm(list = ls())
library(dplyr)
library(tidyverse)
library(ggplot2)
library(haven)
library(broom)
library(margins)
setwd("C:/Users/Alec/Documents/Academics/First Year/Winter Quarter/PPHA 31302 - Stats II/Problem Sets/PS5")
israel <- read_csv("crime_israel.csv")
israel_ge <- read_csv("crime_israel_ge.csv")
q5_d <- lm(carthefts_pc ~ post + treat + post*treat, data = israel)
summary(q5_d)
summary(israel$carthefts_pc)
ggplot() + geom_histogram(data = israel, aes(x=carthefts_pc), binwidth = 1)
summary(israel$carthefts_pc_mi1)
ggplot() + geom_histogram(data = israel, aes(x=carthefts_pc_mi1), binwidth = 1)
q5_f <- lm(carthefts_pc_mi1 ~ post + treat + post*treat, data = israel)
summary(q5_f)
summary(israel$carthefts_pc)
ggplot() + geom_histogram(data = israel, aes(x=carthefts_pc), binwidth = 1)
summary(israel$carthefts_pc_mi2)
ggplot() + geom_histogram(data = israel, aes(x=carthefts_pc_mi2), binwidth = 1)
q5_g <- lm(carthefts_pc_mi2 ~ post + treat + post*treat, data = israel)
summary(q5_g)
View(israel_ge)
q5_h_i <- lm(carthefts_pc ~ post + treat_protect + post*treat_protect, data = israel_ge)
summary(q5_h_i)
q5_h_i <- lm(carthefts_pc ~ post + treat_protect + post*treat_protect, data = israel_ge)
summary(q5_h_i)
q5_h_ii <- lm(carthefts_pc ~ post + treat_unprotect + post*treat_unprotect, data = israel_ge)
summary(q5_h_ii)
knitr::opts_chunk$set(echo = TRUE)
rm(list = ls())
library(dplyr)
library(tidyverse)
library(ggplot2)
library(haven)
library(broom)
library(margins)
setwd("C:/Users/Alec/Documents/Academics/First Year/Winter Quarter/PPHA 31302 - Stats II/Problem Sets/PS5")
israel <- read_csv("crime_israel.csv")
israel_ge <- read_csv("crime_israel_ge.csv")
q5_d <- lm(carthefts_pc ~ post + treat + post*treat, data = israel)
summary(q5_d)
summary(israel$carthefts_pc)
ggplot() + geom_histogram(data = israel, aes(x=carthefts_pc), binwidth = 1)
summary(israel$carthefts_pc_mi1)
ggplot() + geom_histogram(data = israel, aes(x=carthefts_pc_mi1), binwidth = 1)
q5_f <- lm(carthefts_pc_mi1 ~ post + treat + post*treat, data = israel)
summary(q5_f)
summary(israel$carthefts_pc)
ggplot() + geom_histogram(data = israel, aes(x=carthefts_pc), binwidth = 1)
summary(israel$carthefts_pc_mi2)
ggplot() + geom_histogram(data = israel, aes(x=carthefts_pc_mi2), binwidth = 1)
q5_g <- lm(carthefts_pc_mi2 ~ post + treat + post*treat, data = israel)
summary(q5_g)
q5_h_i <- lm(carthefts_pc ~ post + treat_protect + post*treat_protect, data = israel_ge)
summary(q5_h_i)
q5_h_ii <- lm(carthefts_pc ~ post + treat_unprotect + post*treat_unprotect, data = israel_ge)
summary(q5_h_ii)
knitr::opts_chunk$set(echo = TRUE)
rm(list = ls())
library(dplyr)
library(tidyverse)
library(ggplot2)
library(haven)
library(broom)
library(margins)
setwd("C:/Users/Alec/Documents/Academics/First Year/Winter Quarter/PPHA 31302 - Stats II/Problem Sets/PS6")
card <- read_csv("card.csv")
vote2 <- read_csv("vote2.csv")
View(card)
q2_b <- lm(IQ ~ nearc4, data = card)
summary(q2_b)
regvars <- grep("^reg", names(card), value = TRUE)
form <- reformulate(c("nearc4", "smsa66", regvars), response = "IQ")
q2_c <- lm(form, data = card)
summary(q2_c)
install.packages('tinytex')
tinytex::install_tinytex()
tinytex::install_tinytex()
tinytex:::install_tinytex()
tinytex:::is_tinytex()
install.packages("rmarkdown")
install.packages("tinytex")
install.packages("tinytex")
tinytex::ins
install.packages("tinytex")
install.packages("tinytex")
tinytex::install_tinytex()
library(tinytex)
remove.packages("yaml")
install.packages("yaml")
tinytex:::reinstall_tinytex()
install.packages('TinyTex')
tinytex:::is_tinytex()
tinytex::uninstall_tinytex()
install.packages('tinytex')
install.packages('tinytex')
tinytex:::is_tinytex()
install.packages("tidyverse")
install.packages("dplyr")
install.packages("rmarkdown")
installed.packages
install.packages("dplyr")
library(rmarkdown)
install.packages('tinytex')
tinytex::install_tinytex()
tinytex:::is_tinytex()
install.packages("stargazer")
install.packages(c("ggplot2", "knitr", "stargazer", "tidyverse"))
install.packages("rmarkdown")
install.packages('tinytex')
tinytex::install_tinytex()
tinytex:::is_tinytex()
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(dplyr)
library(stargazer)
library(haven)
library(broom)
library(scales)
library(gtools)
setwd("C:/Users/Alec/Documents/Academics/First Year/Spring Quarter/PPHA 34600 - Program Evaluation/Problem Sets/Problem Set 3")
data <- read_csv("ps3_data.csv")
View(data)
table(data$sample)
problems()
problems(data)
data <- read_csv("ps3_data.csv", col_types = cols(lottery_pilot_two = col_double(), lottery_pilot_three = col_double()))
View(data)
data <- read_csv("ps3_data.csv", col_types = cols(lottery_pilot_two = col_double(), lottery_pilot_65plus = col_double()))
View(data)
table(data$sample)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(dplyr)
library(stargazer)
library(haven)
library(broom)
library(scales)
library(gtools)
setwd("C:/Users/Alec/Documents/Academics/First Year/Spring Quarter/PPHA 34600 - Program Evaluation/Problem Sets/Problem Set 3")
data <- read_csv("ps3_data.csv", col_types = cols(lottery_pilot_two = col_double(), lottery_pilot_65plus = col_double()))
one <- data %>%
filter(sample == 1)
two <- data %>%
filter(sample == 2)
three <- data %>%
filter(sample == 3)
View(one)
lottery_one <- lm(nr_hospital_visits ~ insurance_coverage_thousands + lottery_pilot_one + age, data = one)
stargazer(lottery_one, type='text', title='First Stage Regression of lottery_pilot_one on insurance coverage')
lottery_one <- lm(insurance_coverage_thousands ~ lottery_pilot_one + age, data = one)
stargazer(lottery_one, type='text', title='First stage regression of insurance coverage on lottery status')
lottery_one <- lm(insurance_coverage_thousands ~ lottery_pilot_one + age, data = one)
stargazer(lottery_one, type='text', title='First stage regression of insurance coverage on first lottery status')
lottery_two <- lm(insurance_coverage_thousands ~ lottery_pilot_two + age, data = two)
stargazer(lottery_two, type='text', title='First stage regression of insurance coverage on second lottery status')
lottery_one <- lm(insurance_coverage_thousands ~ lottery_pilot_one + age, data = data)
stargazer(lottery_one, type='text', title='First stage regression of insurance coverage on first lottery status')
lottery_two <- lm(insurance_coverage_thousands ~ lottery_pilot_two + age, data = data)
stargazer(lottery_two, type='text', title='First stage regression of insurance coverage on second lottery status')
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(dplyr)
library(stargazer)
library(haven)
library(broom)
library(scales)
library(gtools)
setwd("C:/Users/Alec/Documents/Academics/First Year/Spring Quarter/PPHA 34600 - Program Evaluation/Problem Sets/Problem Set 3")
data <- read_csv("ps3_data.csv", col_types = cols(lottery_pilot_two = col_double(), lottery_pilot_65plus = col_double()))
young <- data %>%
filter(25<=age<=64)
young <- data %>%
filter(age >= 25 and age <= 64)
young <- data %>%
filter(age >= 25 & age <= 64)
young <- data %>%
filter(age >= 25 & age <= 64)
old <- data %>%
filter(age >= 65)
l2_younger <- lm(insurance_coverage_thousands ~ lottery_pilot_two + age, data = young)
l2_older <- lm(insurance_coverage_thousands ~ lottery_pilot_two + age, data = young)
stargazer(l2_younger, l2_older, type="text", title="First stage regression of insurance coverage on second lottery status, by age group")
young <- data %>%
filter(age >= 25 & age <= 64)
old <- data %>%
filter(age >= 65)
l2_younger <- lm(insurance_coverage_thousands ~ lottery_pilot_two + age, data = young)
l2_older <- lm(insurance_coverage_thousands ~ lottery_pilot_two + age, data = old)
stargazer(l2_younger, l2_older, type="text", title="First stage regression of insurance coverage on second lottery status, by age group")
lottery_one <- lm(insurance_coverage_thousands ~ lottery_pilot_one + age, data = data)
stargazer(lottery_one, type='text', title='First stage regression of insurance coverage on first lottery status')
one <- data %>%
filter(sample == 1)
cor(one$insurance_coverage_thousands, one$lottery_pilot_one)
one <- data %>%
filter(sample == 1)
corr <- cor(one$insurance_coverage_thousands, one$lottery_pilot_one)
lottery_two <- lm(insurance_coverage_thousands ~ lottery_pilot_two + age, data = data)
stargazer(lottery_two, type='text', title='First stage regression of insurance coverage on second lottery status')
lottery_one <- lm(insurance_coverage_thousands ~ lottery_pilot_one + age, data = data)
stargazer(lottery_one, type='text', title='First stage regression of insurance coverage on first lottery status')
lottery_one <- lm(insurance_coverage_thousands ~ lottery_pilot_one, data = data)
stargazer(lottery_one, type='text', title='First stage regression of insurance coverage on first lottery status')
lottery_two <- lm(insurance_coverage_thousands ~ lottery_pilot_two, data = data)
stargazer(lottery_two, type='text', title='First stage regression of insurance coverage on second lottery status')
max(data$lottery_pilot_two)
two <- data %>%
filter(sample == 2)
max(two$lottery_pilot_two)
min(two$lottery_pilot_two)
hist(data$insurance_coverage_thousands)
lottery_two <- lm(insurance_coverage_thousands ~ lottery_pilot_two, data = data)
stargazer(lottery_two, type='text', title='First stage regression of insurance coverage on second lottery status')
lottery_two <- lm(insurance_coverage_thousands ~ lottery_pilot_two, data = data)
lottery_two_fitted <- predict(data$lottery_pilot_two, lottery_two)
lottery_two <- lm(insurance_coverage_thousands ~ lottery_pilot_two, data = data)
lottery_two_fitted <- predict(lottery_pilot_two, lottery_two)
two <- data %>%
filter(sample == 2)
lottery_two <- lm(insurance_coverage_thousands ~ lottery_pilot_two, data = two)
stargazer(lottery_two, type='text', title='First stage regression of insurance coverage on second lottery status')
l2_fitted <- predict(two$lottery_pilot_two, lottery_two)
lottery_two <- lm(insurance_coverage_thousands ~ lottery_pilot_two, data = data)
stargazer(lottery_two, type='text', title='First stage regression of insurance coverage on second lottery status')
l2_fitted <- predict(lottery_two, data$lottery_pilot_two)
lottery_two <- lm(insurance_coverage_thousands ~ lottery_pilot_two, data = data)
stargazer(lottery_two, type='text', title='First stage regression of insurance coverage on second lottery status')
l2_fitted <- predict(lottery_two, data)
two <- data %>%
filter(sample == 2)
lottery_two <- lm(insurance_coverage_thousands ~ lottery_pilot_two, data = two)
stargazer(lottery_two, type='text', title='First stage regression of insurance coverage on second lottery status')
l2_fitted <- predict(lottery_two, two)
l2_fitted[:10]
l2_fitted[10]
data_sample_2 <- data %>%
filter(sample == 2)
lottery_two <- lm(insurance_coverage_thousands ~ lottery_pilot_two, data = data_sample_2)
stargazer(lottery_two, type='text', title='First stage regression of insurance coverage on second lottery status')
l2_fitted <- predict(lottery_two, data_sample_2)
data_sample_2 <- data %>%
filter(sample == 2)
lottery_two <- lm(insurance_coverage_thousands ~ lottery_pilot_two, data = data_sample_2)
stargazer(lottery_two, type='text', title='First stage regression of insurance coverage on second lottery status')
data_sample_2$l2_fitted <- predict(lottery_two, data_sample_2)
View(data_sample_2)
data_sample_2 <- data %>%
filter(sample == 2)
lottery_two <- lm(insurance_coverage_thousands ~ lottery_pilot_two, data = data_sample_2)
stargazer(lottery_two, type='text', title='First stage regression of insurance coverage on second lottery status')
data_sample_2$predicted_ict <- predict(lottery_two, data_sample_2)
View(data_sample_2)
lottery_two_2sls <- lm(nr_hospital_visits ~ predicted_ict, data = data_sample_2)
stargazer(lottery_two_2sls, type="text", title="Second stage regression of hospital visits on predicted insurance coverage")
lottery_two_2sls
lottery_two_2sls$coefficients[2]
l2_reduced <- lm(nr_hospital_visits ~ lottery_pilot_two, data = data_sample_2)
stargazer(l2_reduced, type="text", title="Reduced-form regression of outcome nr_hospital_visits on instrument lottery_pilot_two")
l2_naive <- lm (nr_hospital_visits ~ insurance_coverage_thousands, data = data_sample_2)
stargazer(l2_naive, type="text", title="Naive estimate of nr_hospital_visits regressed on insurance_coverage_thousands")
l2_canned <- ivreg(nr_hospital_visits ~ insurance_coverage_thousands, lottery_pilot_two,
data = data_sample_2)
install.packages("AER")
library(AER)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(dplyr)
library(stargazer)
library(haven)
library(broom)
library(scales)
library(gtools)
library(AER)
setwd("C:/Users/Alec/Documents/Academics/First Year/Spring Quarter/PPHA 34600 - Program Evaluation/Problem Sets/Problem Set 3")
data <- read_csv("ps3_data.csv", col_types = cols(lottery_pilot_two = col_double(), lottery_pilot_65plus = col_double()))
l2_canned <- ivreg(nr_hospital_visits ~ insurance_coverage_thousands, lottery_pilot_two,
data = data_sample_2)
l2_canned <- ivreg(nr_hospital_visits ~ insurance_coverage_thousands | lottery_pilot_two,
data = data_sample_2)
stargazer(l2_canned, type="text",
title="IV regression of nr_hospital_visit on insurance_coverage_thousands,
using instrument lottery_pilot_two")
l2_canned <- ivreg(nr_hospital_visits ~ insurance_coverage_thousands | lottery_pilot_two,
data = data_sample_2)
stargazer(l2_canned, type="text",
title="IV regression of hospital visits on insurance coverage,
using instrument lottery two")
l2_canned <- ivreg(nr_hospital_visits ~ insurance_coverage_thousands | lottery_pilot_two,
data = data_sample_2)
stargazer(l2_canned, type="text",
title="IV regression of hospital visits on insurance coverage, using instrument lottery two")
data_sample_3 <- data %>%
filter(sample == 3)
View(data_sample_3)
View(data_sample_3)
data_sample_3 <- data %>%
filter(sample == 3)
l3_canned <- ivreg(nr_hospital_visits ~ insurance_coverage_thousands | lottery_pilot_65plus,
data = data_sample_3)
stargazer(l3_canned, type="text",
title="IV regression of hospitalizations on coverage with lottery as pilot, age 65+")
young <- data %>%
filter(age >= 25 & age <= 64)
old <- data %>%
filter(age >= 65)
l2_younger <- lm(insurance_coverage_thousands ~ lottery_pilot_two + age, data = young)
l2_older <- lm(insurance_coverage_thousands ~ lottery_pilot_two + age, data = old)
stargazer(l2_younger, l2_older, type="text", title="First stage regression of insurance coverage on second lottery status, by age group")
young <- data %>%
filter(age >= 25 & age <= 64)
old <- data %>%
filter(age >= 65)
l2_younger <- lm(insurance_coverage_thousands ~ lottery_pilot_two, data = young)
l2_older <- lm(insurance_coverage_thousands ~ lottery_pilot_two, data = old)
stargazer(l2_younger, l2_older, type="text", title="First stage regression of insurance coverage on second lottery status, by age group")
l2_naive <- lm(nr_hospital_visits ~ insurance_coverage_thousands, data = data_sample_2)
stargazer(l2_naive, type="text",
title="Naive estimate of nr_hospital_visits regressed on insurance_coverage_thousands")
l2_naive <- lm(nr_hospital_visits ~ insurance_coverage_thousands, data = data_sample_2)
stargazer(l2_naive, type="text",
title="Naive estimate of hospital visits regressed on insurance coverage")
l2_naive <- lm(nr_hospital_visits ~ insurance_coverage_thousands, data = data_sample_2)
stargazer(l2_naive, type="text",
title="Naive estimate of hospital visits regressed on insurance coverage")
iv_estimator <- l2_naive$coefficients[2]
iv_estimator
l2_reduced <- lm(nr_hospital_visits ~ lottery_pilot_two, data = data_sample_2)
stargazer(l2_reduced, type="text",
title="Reduced-form regression of outcome nr_hospital_visits on instrument lottery_pilot_two")
iv_estimator <- l2_reduced$coefficients[2] / lottery_two$coefficients[2]
iv_estimator
data_sample_3 <- data %>%
filter(sample == 3)
l3_canned <- ivreg(nr_hospital_visits ~ insurance_coverage_thousands | lottery_pilot_65plus,
data = data_sample_3)
stargazer(l3_canned, type="text",
title="IV regression of hospitalizations on coverage with lottery as pilot, age 65+")
data_sample_2_young <- data_sample_2 %>%
filter(age >= 25 & age <= 64)
data_sample_2_young <- data_sample_2 %>%
filter(age >= 25 & age <= 64)
l2_young_canned <- ivreg(nr_hospital_visits ~ insurance_coverage_thousands | lottery_pilot_two,
data = data_sample_2_young)
stargazer(l2_young_canned, type="text",
title="IV regression of hospitalizations on coverage with lottery as pilot, ages 25-64")
setwd("C:/Users/Alec/Documents/Academics/First Year/Spring Quarter/CAPP 30254 - Machine Learning/Project/Data")
library(tidyverse)
library(dplyr)
library(stargazer)
library(haven)
library(broom)
library(scales)
library(gtools)
enforcements <- read_csv("RCRA_ENFORCEMENTS.csv")
evaluations <- read_csv("RCRA_EVALUATIONS.csv")
facilities <- read_csv("RCRA_FACILITIES.csv")
naics <- read_csv("RCRA_NAICS.csv")
violations <- read_csv("RCRA_VIOLATIONS.csv")
viosnc_history <- read_csv("RCRA_VIOSNC_HISTORY.csv")
View(enforcements)
View(violations)
table(violations$VIOLATION_TYPE_DESC)
View(naics)
table(naics$NAICS_CODE)
class(naics$NAICS_CODE[1])
View(viosnc_history)
table(viosnc_history$VIO_FLAG)
table(viosnc_history$SNC_FLAG)
table(faciltiies$transporter)
table(facilities$ACTIVE_SITE)
table(facilities$TRANSPORTER)
table(facilities$FULL_ENFORCEMENT)
table(facilities$OPERATING_TSDF)
